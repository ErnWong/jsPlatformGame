//OUTOFDATE!!
(function(c,w){var y=new Date,a={},t=c.document.getElementsByTagName("head")[0],p,x=!1,u=[];if(!t)throw new ReferenceError('Where\'s the head? Cannot find the "head" element in the document.');a.onload=function(a){u.push(a);x&&a.call(c)};p=function(){[].indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError("Array.prototype.indexOf called on null or undefined");var a=Object(this),f=a.length>>>0;if(0===f)return-1;var b=0;1<arguments.length&&(b=Number(arguments[1]),b!=b?b=0:0!=b&&(Infinity!=b&&-Infinity!=b)&&(b=(0<b||-1)*Math.floor(Math.abs(b))));if(b>=f)return-1;for(b=0<=b?b:Math.max(f-Math.abs(b),0);b<f;b++)if(b in a&&a[b]===e)return b;return-1});var v,m,i,n,h,j,r=function(e){return function(){("loaded"===this.readyState||"complete"===this.readyState)&&j(e)}},s=function(e){return function(){j(e)}};a.requested=[];v=a.requested;a.executed=[];m=a.executed;a._scriptToRequest={};i=a._scriptToRequest;var k;a:{try{var d=c.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMlHTTP");d.open("GET","lib/Classes.js",!1);d.send();if(200<=d.status&&400>d.status&&!(null===d.responseText||""===d.responseText)){if(!JSON){k=(new Function("return "+d.responseText))();break a}k=JSON.parse(d.responseText);break a}}catch(p){}k={}}a.scriptIdToURL=k;n=a.scriptIdToURL;a._ScriptRequest=function(e,a,f){this.scriptCount=e||0;this.onload=a||function(){};this.loaded=f||0};a._ScriptRequest.prototype={scriptCount:0,onload:function(){},loaded:0};h=a._ScriptRequest;a.require=function(){for(var a=0,d=arguments.length,f=new h(d);a<d;a++){var b=n[arguments[a]]||arguments[a];if("string"!==typeof b)throw new TypeError("Arguments needed to be a string, but found a "+typeof b);if(-1!==v.indexOf(b))-1!==m.indexOf(b)?f.loaded++:(i[b]===w&&(i[b]=[]),i[b].push(f));else{var g=document.createElement("script");g.type="text/javascript";g.src=b;g.onreadystatechange=r(b);g.onload=s(b);t.appendChild(g);i[b]===w&&(i[b]=[]);i[b].push(f);v.push(b)}}return{onload:function(b){f.onload=b;f.loaded===d&&b.call(c)}}};a.loaded=function(a){a=n[a]||a;if(-1===m.indexOf(a)&&(m.push(a),a=i[a]))for(;a.length;)a[0].loaded++,a[0].loaded===a[0].scriptCount&&a[0].onload.call(c),a.splice(0,1)};j=function(a){if(-1===m.indexOf(a)&&(m.push(a),a=i[a]))for(;a.length;)a[0].loaded++,a[0].loaded===a[0].scriptCount&&a[0].onload.call(c),a.splice(0,1)};c.lib=a;k=0;for(d=u.length;k<d;k++)u[k].call(c);x=!0};if(c.JSON)p(),a.onload(function(){null==c.lib&&(c.lib={});var h=!1,m=/abc/.test(function(){abc})?/\b_parent\b/:/.*/,i=new TypeError("Class constructor cannot be called as a function."),n=function(a){return function(){return a}},p=function(a,f,b){return function(){var g=this._super;this._super=b[a];var l=f.apply(this,arguments);this._super=g;return l}};a.Class=function(){};a.Class.prototype.toString=n("[object Class]");a.Class.toString=n("function Class() { [lib code] }");a.Class.extend=function f(a,g,l){var d=this.prototype;h=!0;var e=new this;h=!1;g&&!l&&(e.toString=n("[object "+g+"]"));for(var c in a)e[c]="function"===typeof a[c]&&"function"===typeof d[c]&&m.test(a[c])?p(c,a[c],d):a[c];a=function z(){if(!(this instanceof z))throw i;!h&&this.init&&this.init.apply(this,arguments)};a.prototype=e;a.prototype.constructor=a;a.extend=f;return a};a.Class.extend.toString=n("function extend() { [lib code] }");a.loaded&&a.loaded("lib.Class");a.Events={};var j=a.Events,r,s=Object.prototype.toString,k=document.createEvent,d=new TypeError('Event object missing "type" property'),q=new TypeError("Event Listener is not in the correct type");j.EventListener=a.Class.extend({handleEvent:function(){},init:function(a){this.handleEvent=a}},"EventListener");r=j.EventListener;j.Event=a.Class.extend({timeStamp:0,type:"",target:null,cancelable:!1,preventDefault:function(){}},"Event");var e=Object.create(null);a.createEventType=function(a,b){e[a]=r.extend(b);return e[a]};a.createEvent=function(a){if(null!=e[a])(new e[a]).timeStamp=(new Date).getTime();else return k(a)};j.EventTarget=a.Class.extend({_listeners:{},addEventListener:function(a,b,g){var a=this._listeners[a],l;if(l=null!=a)a:{l="object"===typeof g?g:null;for(var c=0,d=a.length;c<d;c++)if((a[c].listener===b||a[c].listener.handleEvent===b)&&a[c].scope===l){l=!0;break a}l=!1}l||(b={listener:"object"===typeof b&&b.handleEvent?b:new r(b),scope:"object"===typeof g?g:null},"[object Array]"===s.call(a)&&a.push(b))},removeEventListener:function(a,b,c){a=this._listeners[a];if("[object Array]"===s.call(a))for(var c="object"===typeof c?c:null,d=0,e=a.length;d<e;d++)if((a[d].listener===b||a[d].listener.handleEvent===b)&&a[d].scope===c){a.splice(d,1);break}},dispatchEvent:function(a){a.target||(a.target=this);if(!a.type)throw d;var b=0,c=this._listeners[a.type];if("[object Array]"===s.call(c))for(;b<c;b++){var e=c[b];if("function"!==typeof e.listener.handler)throw q;e.listener.handler.call(e.scope,a)}}},"EventTarget");j.EventTarget.prototype.on=j.EventTarget.prototype.addEventListener;a.Timer=a.Events.EventTarget.extend({TimerEvent:a.createEventType("TimerEvent",{})},"");console.log("lib loaded in "+(new Date-y)/1E3+"s.")});else{var h=document.createElement("script");h.type="text/javascript";h.src="http://cdnjs.cloudflare.com/ajax/libs/json3/3.2.4/json3.min.js";var q=!1;h.onreadystatechange=function(){if(("loaded"===this.readyState||"complete"===this.readyState)&&!q)q=!0,p()};h.onload=function(){q||(q=!0,p())};t.appendChild(h)}})(window);
